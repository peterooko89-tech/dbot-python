<!DOCTYPE html>
<html>
<head>
    <title>OAuth Processing</title>
</head>
<body>
    <h3>Logging you inâ€¦</h3>

    <form id="tokenForm" method="POST" action="/oauth">
        <input type="hidden" name="token" id="tokenInput">
    </form>

    <script>
        // Read token from URL fragment
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const token = params.get("token");

        if (!token) {
            document.body.innerHTML = "<h2>OAuth failed: token not found</h2>";
        } else {
            document.getElementById("tokenInput").value = token;
            document.getElementById("tokenForm").submit();
        }
    </script>
</body>
</html>
